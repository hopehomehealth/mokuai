<?php/** * ZZCMS 重置管理员密码 * ============================================================================ * * 版权所有 2014-2016 厦门紫竹数码科技有限公司，并保留所有权利。 * 网站地址: http://www.lnest.com； * ---------------------------------------------------------------------------- * 这不是一个自由软件！您只能在不用于商业目的的前提下对程序代码进行修改和 * 使用；不允许对程序代码以任何形式任何目的的再发布。 */class reset extends Lowxp{    function __construct(){        parent::__construct();        $this->load->model('user');    }    function index(){        //判断是否可重置密码        $reset = false;        $reset = $this->base->read_static_cache('reset');        if($reset !== false){ $reset = true; }        if($reset == false){            die('ERROR!');        }        //重置密码        $row = $this->db->get("select uid from ###_m_user order by uid");        $res = $this->db->save('m_user', array(            'username' => 'admin',            'password' => '858d548955a194a5e36d0e00ed620a1b',            'salt' => 'f7b43c',            'group_id' => '1',        ),'',array('uid'=>$row['uid']));        if(!$res){ die('密码重置失败!'); }        //清除缓存        $this->base->clear_caches('static');        exit('密码重置成功（帐号：admin 密码：123456）');    }}
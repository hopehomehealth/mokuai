<?php/** * ZZCMS 后台入口 * ============================================================================ * * 版权所有 2014-2016 厦门紫竹数码科技有限公司，并保留所有权利。 * 网站地址: http://www.lnest.com； * ---------------------------------------------------------------------------- * 这不是一个自由软件！您只能在不用于商业目的的前提下对程序代码进行修改和 * 使用；不允许对程序代码以任何形式任何目的的再发布。 */class manage extends Lowxp{    function index(){        //获取权限节点菜单        $menus_node = $this->menus->menus_node(false);        $menus = array();        $subMenu = array();        foreach($menus_node as $v){            $url = $v['parentid'].':'.$v['mod'].(empty($v['action']) ? '' : '/'.$v['action']).(empty($v['param']) ? '' : '/'.$v['param']);            if($v['type'] != 1){                $subMenu[] = $url;            }else{                $menus[$v['parentid']][$v['id']] = $v;            }        }        $this->smarty->assign('subMenu',json_encode($subMenu));        $this->smarty->assign('menus',$menus);        $this->smarty->display('manage/home.html');    }    /**     * 初始页     */    function init(){        $menus_node = $this->menus->menus_node(false);        $node_ids = array();        foreach($menus_node as $v){            if(in_array($v['id'],array(1,3,89,97,95))){                $node_ids[] = $v['id'];            }        }        $this->smarty->assign('node_ids',$node_ids);        $this->smarty->display('manage/home_nav.html');    }    /**     * 设置皮肤     */    function setSkin($skin_id = ''){        is_numeric($skin_id)||$this->fatalError('参数缺失!');        $_SESSION['skin'] = $skin_id;        $this->exeJs('location.reload();');    }}